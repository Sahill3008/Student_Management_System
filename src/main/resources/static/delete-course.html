<!DOCTYPE html>
<html>
<head>
    <title>Delete Course</title>
    <link href="/css/style.css" rel="stylesheet">
</head>
<body>

<h2>Delete Course</h2>

<select id="courseSelect"></select>
<button onclick="deleteCourse()">Delete</button>

<script>
    async function loadCourses() {
        const res = await fetch("/courses");
        const courses = await res.json();
        const select = document.getElementById("courseSelect");

        courses.forEach(c => {
            const opt = document.createElement("option");
            opt.value = c.id;
            opt.textContent = c.courseName + " (" + c.id + ")";
            select.appendChild(opt);
        });
    }

    async function deleteCourse() {
        const id = document.getElementById("courseSelect").value;
        if (!id) return alert("Select a course!");

        const res = await fetch(`/courses/${id}`, {
            method: "DELETE"
        });

        if (res.ok) {
            alert("Course deleted!");
            location.reload();
        } else {
            alert("Error deleting course.");
        }
    }

    loadCourses();
</script>

</body>
</html>
