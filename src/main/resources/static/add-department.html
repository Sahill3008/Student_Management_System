<!DOCTYPE html>
<html>
<head>
    <title>Add Department</title>
    <link href="/css/style.css" rel="stylesheet">
</head>
<body>

<h2>Add Department</h2>

<input id="deptName" placeholder="Department Name">

<button onclick="saveDepartment()">Save</button>

<script>
    async function saveDepartment() {
        const name = document.getElementById("deptName").value;

        if (!name.trim()) return alert("Department name is required");

        const res = await fetch("/departments", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({deptName: name})
        });

        if (res.ok) {
            alert("Department created!");
            document.getElementById("deptName").value = "";
        } else {
            alert("Failed to create department.");
        }
    }
</script>

</body>
</html>
